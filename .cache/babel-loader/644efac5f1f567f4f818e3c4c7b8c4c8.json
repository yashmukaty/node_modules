{"ast":null,"code":"import _classCallCheck from \"/Users/mayur/Desktop/JPMC-tech-task-3-PY3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mayur/Desktop/JPMC-tech-task-3-PY3/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var DataManipulator =\n/*#__PURE__*/\nfunction () {\n  function DataManipulator() {\n    _classCallCheck(this, DataManipulator);\n  }\n\n  _createClass(DataManipulator, null, [{\n    key: \"generateRow\",\n    value: function generateRow(serverRespond) {\n      var priceABC = (serverRespond[0].top_ask.price + serverRespond[0].top_bid.price) / 2;\n      var priceDEF = (serverRespond[1].top_ask.price + serverRespond[1].top_bid.price) / 2;\n      var ratio = priceABC / priceDEF;\n      var upper_bound = 1 + 0.05;\n      var lower_bound = 1 - 0.05;\n      return {\n        price_abc: priceABC,\n        price_def: priceDEF,\n        ratio: ratio,\n        timestamp: serverRespond[0].timestamp > serverRespond[1].timestamp ? serverRespond[0].timestamp : serverRespond[1].timestamp,\n        upper_bound: upper_bound,\n        lower_bound: lower_bound,\n        trigger_alert: ratio > upper_bound || ratio < lower_bound ? ratio : undefined\n      };\n    }\n  }]);\n\n  return DataManipulator;\n}();","map":{"version":3,"sources":["/Users/mayur/Desktop/JPMC-tech-task-3-PY3/src/DataManipulator.ts"],"names":["DataManipulator","serverRespond","priceABC","top_ask","price","top_bid","priceDEF","ratio","upper_bound","lower_bound","price_abc","price_def","timestamp","trigger_alert","undefined"],"mappings":";;AAcA,WAAaA,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,gCACqBC,aADrB,EAC0D;AACxD,UAAMC,QAAQ,GAAG,CAACD,aAAa,CAAC,CAAD,CAAb,CAAiBE,OAAjB,CAAyBC,KAAzB,GAAiCH,aAAa,CAAC,CAAD,CAAb,CAAiBI,OAAjB,CAAyBD,KAA3D,IAAkE,CAAnF;AACA,UAAME,QAAQ,GAAG,CAACL,aAAa,CAAC,CAAD,CAAb,CAAiBE,OAAjB,CAAyBC,KAAzB,GAAiCH,aAAa,CAAC,CAAD,CAAb,CAAiBI,OAAjB,CAAyBD,KAA3D,IAAkE,CAAnF;AACA,UAAMG,KAAK,GAAGL,QAAQ,GAACI,QAAvB;AACA,UAAME,WAAW,GAAG,IAAI,IAAxB;AACA,UAAMC,WAAW,GAAG,IAAI,IAAxB;AACA,aAAM;AACJC,QAAAA,SAAS,EAAER,QADP;AAEJS,QAAAA,SAAS,EAACL,QAFN;AAGJC,QAAAA,KAAK,EAALA,KAHI;AAIJK,QAAAA,SAAS,EAAGX,aAAa,CAAC,CAAD,CAAb,CAAiBW,SAAjB,GAA6BX,aAAa,CAAC,CAAD,CAAb,CAAiBW,SAA/C,GAA4DX,aAAa,CAAC,CAAD,CAAb,CAAiBW,SAA7E,GAAuFX,aAAa,CAAC,CAAD,CAAb,CAAiBW,SAJ/G;AAKJJ,QAAAA,WAAW,EAACA,WALR;AAMJC,QAAAA,WAAW,EAACA,WANR;AAOJI,QAAAA,aAAa,EAAGN,KAAK,GAACC,WAAN,IAAqBD,KAAK,GAACE,WAA5B,GAA2CF,KAA3C,GAAiDO;AAP5D,OAAN;AAUD;AAjBD;;AAAA;AAAA","sourcesContent":["import { ServerRespond } from './DataStreamer';\nimport { ServerResponse } from 'http';\n\nexport interface Row {\n      price_abc:number,\n      price_def:number,\n      ratio:number,\n      timestamp:Date,\n      upper_bound:number,\n      lower_bound:number,\n      trigger_alert:number | undefined,\n}\n\n\nexport class DataManipulator {\n  static generateRow(serverRespond: ServerRespond[]): Row {\n  const priceABC = (serverRespond[0].top_ask.price + serverRespond[0].top_bid.price)/2;\n  const priceDEF = (serverRespond[1].top_ask.price + serverRespond[1].top_bid.price)/2;\n  const ratio = priceABC/priceDEF;\n  const upper_bound = 1 + 0.05;\n  const lower_bound = 1 - 0.05;\n  return{\n    price_abc: priceABC,\n    price_def:priceDEF,\n    ratio,\n    timestamp: (serverRespond[0].timestamp > serverRespond[1].timestamp) ? serverRespond[0].timestamp:serverRespond[1].timestamp,\n    upper_bound:upper_bound,\n    lower_bound:lower_bound,\n    trigger_alert: (ratio>upper_bound || ratio<lower_bound) ? ratio:undefined,\n\n  };\n}\n  }"]},"metadata":{},"sourceType":"module"}